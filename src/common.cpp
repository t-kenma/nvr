#include "common.hpp"

namespace nvr
{
	/*------------------------------------------------------
	------------------------------------------------------*/
	void ByteToCC( unsigned char val, unsigned char* cc )
	{
		cc[0] = (val / 10) + 0x30;
		cc[1] = (val % 10) + 0x30;
	}
	
	/*------------------------------------------------------
	------------------------------------------------------*/
	unsigned char CCToByte( unsigned char* cc )
	{
		return ((cc[0] - 0x30) * 10) + (cc[1] - 0x30);
	}
	
	/*------------------------------------------------------
	------------------------------------------------------*/
	void BcdToCC( unsigned char bcd, unsigned char* cc )
	{
		cc[0] = ((bcd & 0xF0) >> 4) + 0x30;
		cc[1] = ( bcd & 0x0F) + 0x30;
	}
	
	/*------------------------------------------------------
	------------------------------------------------------*/
	unsigned char BcdToByte( unsigned char bcd )
	{
		return (((bcd >> 4) & 0x0F) * 10) + (bcd & 0x0F); 
	}

	/*------------------------------------------------------
	------------------------------------------------------*/
	unsigned char ByteToBcd( unsigned char val )
	{
		return ((val / 10) << 4) | (val % 10);
	}

	/*------------------------------------------------------
	------------------------------------------------------*/
	struct tm* GetNowDt()
	{
		time_t tme = time( NULL );
		return localtime( &tme ); 
	}
  
}